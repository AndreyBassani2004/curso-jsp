-- Criar Sequencia
CREATE SEQUENCE model_login_id_seq
    INCREMENT 1
    START 1
    MINVALUE 1
    MAXVALUE 9223372036854775807
    CACHE 1;
	
	
-- Criar Tabela
CREATE TABLE IF NOT EXISTS public.model_login
(
    login character varying(200) NOT NULL,
    senha character varying(200) NOT NULL,
    id integer NOT NULL DEFAULT nextval('model_login_id_seq'::regclass),
    nome character varying(300) NOT NULL,
    email character varying(300),
	CONSTRAINT login_unique UNIQUE (login),
    PRIMARY KEY (id));
  
  
-- Se usuario admin ou nao
Alter table model_login add column useradmin boolean NOT NULL DEFAULT false;

-- Qual adm criou usuario
Alter table model_login add column usuario_id bigint NOT NULL DEFAULT 1;
Alter table model_login add CONSTRAINT usuario_fk FOREIGN KEY (usuario_id) REFERENCES model_login (id);

-- Qual classe perfil
Alter table model_login add column perfil character varying(50); 

-- Armazenar foto
Alter table model_login add column fotouser text;
Alter table model_login add column extensaofotouser character varying(200);

--Armazenar enderco
Alter table model_login add column sexo character varying(50);
Alter table model_login add column cep character varying(250);
Alter table model_login add column logradouro character varying(250);
Alter table model_login add column rua character varying(250);
Alter table model_login add column bairro character varying(250);
Alter table model_login add column localidade character varying(250);
Alter table model_login add column uf character varying(250);
Alter table model_login add column numero character varying(250);

--Telefone Sequencia 
CREATE SEQUENCE telefone_seq
    INCREMENT 1
    START 1
    MINVALUE 1
    MAXVALUE 9223372036854775807
    CACHE 1;
    

-- Criar tabela telefone

create table telefone(

id integer not null default nextval('telefone_seq'::regclass),
numero character varying (50) not null,
usuario_pai_id bigint not null,
usuario_cad_id bigint not null,
constraint telefone_pkey primary key(id), 
constraint usuario_pai_fk FOREIGN key (usuario_pai_id) references model_login(id),
constraint usuario_cad_fk foreign key (usuario_cad_id) REFERENCES model_login(id)
);
    
-- Criar campo data de nascimento

alter table model_login add column datanascimento date;

-- Criar campo rendamensal
ALTER TABLE model_login ADD COLUMN rendamensal double precision;

